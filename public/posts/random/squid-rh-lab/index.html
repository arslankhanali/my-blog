<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Squid Proxy: Access Remote Red Hat Lab Environment | AK Blogs</title>
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="//localhost:1313/posts/random/squid-rh-lab/">
  <meta property="og:site_name" content="AK Blogs">
  <meta property="og:title" content="Squid Proxy: Access Remote Red Hat Lab Environment">
  <meta property="og:description" content="This blog shows how to access URLs available only on a remote Red Hat lab environment from your local MacOS laptop using SSH tunneling and a Squid proxy.
1. Download and Configure SSH Key For the Red Hat certification lab, the SSH private key is provided in the Lab Environment section.
Run these commands on your Mac terminal:
# Move the downloaded key to your SSH folder mv ~/Downloads/rht_classroom.rsa ~/.ssh/ # Secure the key with correct permissions chmod 0600 ~/.ssh/rht_classroom.rsa # Add the key to your ssh-agent ssh-add ~/.ssh/rht_classroom.rsa Test SSH login to remote VM via jump host Replace IPs and ports if different:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-04T22:00:00+10:00">
    <meta property="article:modified_time" content="2025-08-04T22:00:00+10:00">
    <meta property="article:tag" content="Squid-Proxy">
    <meta property="article:tag" content="Redhat">
      <meta property="og:see_also" content="//localhost:1313/posts/random/haproxy-ceph-story/">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Squid Proxy: Access Remote Red Hat Lab Environment">
  <meta name="twitter:description" content="This blog shows how to access URLs available only on a remote Red Hat lab environment from your local MacOS laptop using SSH tunneling and a Squid proxy.
1. Download and Configure SSH Key For the Red Hat certification lab, the SSH private key is provided in the Lab Environment section.
Run these commands on your Mac terminal:
# Move the downloaded key to your SSH folder mv ~/Downloads/rht_classroom.rsa ~/.ssh/ # Secure the key with correct permissions chmod 0600 ~/.ssh/rht_classroom.rsa # Add the key to your ssh-agent ssh-add ~/.ssh/rht_classroom.rsa Test SSH login to remote VM via jump host Replace IPs and ports if different:">

    <link rel="stylesheet" href="/css/custom.css">
    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/bundle.css">

      <script src="/js/copy-button.js"></script>
      <script src="/js/bundle.js"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="//localhost:1313/" style="color: inherit;">AK Blogs</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="/homelab/"
      >Homelab</a>
    </div>
    <div class="nav-item">
      <a href="/hidden/"
      >Shadow</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="/homelab/"
      >Homelab</a>
    </div>
    <div class="nav-item">
      <a href="/hidden/"
      >Shadow</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="//localhost:1313/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="//localhost:1313/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>Squid Proxy: Access Remote Red Hat Lab Environment</h1><time class="dim" datetime="2025-08-04T22:00:00&#43;10:00">August 4, 2025</time><div class="term-container"><div class="tag">
        <a href="//localhost:1313/tags/squid-proxy/">#squid-proxy</a>
      </div><div class="tag">
        <a href="//localhost:1313/tags/redhat/">#redhat</a>
      </div></ol></div>
  <section class="page-section"><p>This blog shows how to access URLs available only on a remote Red Hat lab environment from your local MacOS laptop using SSH tunneling and a Squid proxy.</p>
<hr>
<h2 id="1-download-and-configure-ssh-key">1. Download and Configure SSH Key</h2>
<p>For the Red Hat certification lab, the SSH private key is provided in the <strong>Lab Environment</strong> section.</p>
<p>Run these commands on your Mac terminal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Move the downloaded key to your SSH folder</span>
</span></span><span style="display:flex;"><span>mv ~/Downloads/rht_classroom.rsa ~/.ssh/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Secure the key with correct permissions</span>
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">0600</span> ~/.ssh/rht_classroom.rsa
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add the key to your ssh-agent</span>
</span></span><span style="display:flex;"><span>ssh-add ~/.ssh/rht_classroom.rsa
</span></span></code></pre></div><h3 id="test-ssh-login-to-remote-vm-via-jump-host">Test SSH login to remote VM via jump host</h3>
<p>Replace IPs and ports if different:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -i ~/.ssh/rht_classroom.rsa -J cloud-user@148.62.92.65:22022 student@172.25.252.1 -p <span style="color:#ae81ff">53009</span>
</span></span></code></pre></div><blockquote>
<p><strong>Note:</strong><br>
If you get the error <code>Host key verification failed</code>, remove your known hosts file and retry:</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>rm ~/.ssh/known_hosts
</span></span></code></pre></div><hr>
<h2 id="2-setup-squid-proxy-on-remote-vm">2. Setup Squid Proxy on Remote VM</h2>
<p>SSH into the remote VM and become root or use sudo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo su
</span></span><span style="display:flex;"><span>dnf install squid -y
</span></span></code></pre></div><p>Add access control to Squid config (adjust IP range if different):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo tee /etc/squid/squid.conf &gt; /dev/null <span style="color:#e6db74">&lt;&lt;EOL
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">acl localnet src 172.25.252.1/24 # Change IP as needed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">acl Safe_ports port 22
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOL</span>
</span></span></code></pre></div><p>Enable and restart Squid:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>systemctl enable squid
</span></span><span style="display:flex;"><span>systemctl restart squid
</span></span></code></pre></div><hr>
<h2 id="3-create-ssh-tunnel-to-forward-proxy-port">3. Create SSH Tunnel to Forward Proxy Port</h2>
<p>From your <strong>local Mac laptop</strong> open a new terminal and run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -i ~/.ssh/rht_classroom.rsa -J cloud-user@148.62.92.65:22022 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-L 3128:localhost:3128 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>student@172.25.252.1 -p <span style="color:#ae81ff">53009</span>
</span></span></code></pre></div><p>This forwards local port <code>3128</code> to the remote Squid proxy.</p>
<hr>
<h2 id="4-configure-browser-proxy-settings-firefox-recommended">4. Configure Browser Proxy Settings (Firefox Recommended)</h2>
<blockquote>
<p><strong>Tip:</strong> Use a secondary browser profile or a different browser to avoid routing all traffic unintentionally.</p></blockquote>
<ol>
<li>Open Firefox settings</li>
<li>Scroll to the <strong>Network</strong> section at the bottom</li>
<li>Select <strong>Manual proxy configuration</strong></li>
<li>Set:
<ul>
<li>HTTP Proxy: <code>localhost</code></li>
<li>Port: <code>3128</code></li>
</ul>
</li>
<li>Check <strong>Use this proxy server for all protocols</strong>
<img src="/redhat-certification-lab.md/image.png" alt="alt text"></li>
</ol>
<hr>
<h2 id="5-test-access">5. Test Access</h2>
<p>Visit any URL only accessible from the remote VM, e.g.:</p>
<pre tabindex="0"><code>https://console-openshift-console.apps.ocp4.example.com/
</code></pre><p>You should now be able to access it locally via your browser.</p>
<p>As a quick test, visit <a href="https://whatismyipaddress.com">https://whatismyipaddress.com</a> to confirm your IP corresponds to the remote environment.</p>
<hr>
<h2 id="conclusion">Conclusion</h2>
<p>You’ve successfully tunneled your browser traffic through the remote Squid proxy using SSH, enabling access to URLs only reachable from your lab environment.</p>
<p>This method keeps your local and remote network environments cleanly separated while allowing seamless access to remote resources.</p>
<hr>
<p><img src="https://images.unsplash.com/photo-1499744937866-d7e566a20a61?q=80&amp;w=2070&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="thank you"></p>
</section></main>
        <footer id="main-footer">
<script src="/js/copy-button.min.4876b98121977026b3ce53c9cb225d818299becf2f6ba9c345fdfbc99911d6dd.js" integrity="sha256-SHa5gSGXcCazzlPJyyJdgYKZvs8va6nDRf37yZkR1t0="></script>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-content">
      <h3>Please note</h3><p>Code blocks can be EDITED before you copy</p>
    </div><div class="side-details">
    <span>372 words</span>
    <span>2 - 3 minutes read</span><div class="side-details-taxonomy">
        <small>series: 
          <span class="details-taxonomy"><a href="//localhost:1313/series/networking">networking</a></span></small>
      </div><div class="side-details-taxonomy">
        <small>topics: 
          <span class="details-taxonomy"><a href="//localhost:1313/topics/"></a></span></small>
      </div></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#1-download-and-configure-ssh-key">1. Download and Configure SSH Key</a>
      <ul>
        <li><a href="#test-ssh-login-to-remote-vm-via-jump-host">Test SSH login to remote VM via jump host</a></li>
      </ul>
    </li>
    <li><a href="#2-setup-squid-proxy-on-remote-vm">2. Setup Squid Proxy on Remote VM</a></li>
    <li><a href="#3-create-ssh-tunnel-to-forward-proxy-port">3. Create SSH Tunnel to Forward Proxy Port</a></li>
    <li><a href="#4-configure-browser-proxy-settings-firefox-recommended">4. Configure Browser Proxy Settings (Firefox Recommended)</a></li>
    <li><a href="#5-test-access">5. Test Access</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav></aside></div>
  </div>
</body>
</html>
